[{"path":"/articles/introduction_to_didcf.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Introduction to didcf","text":"vignette accompanies package DiDCF. algorithms comes Gavrilova, Evelina, Audun Langørgen, Floris Zoutman. “Difference--difference causal forests, application payroll tax incidence norway.” (2025).","code":""},{"path":"/articles/introduction_to_didcf.html","id":"example-data","dir":"Articles","previous_headings":"Introduction","what":"Example Data","title":"Introduction to didcf","text":"example_data dataset included package contains simulated dataset tailored payroll example paper. can load view dataset:","code":"# Load the example dataset data(example_data, package = \"didcf\")  # View the dataset head(example_data) #> # A tibble: 6 × 11 #>   unit_id firm_id period x_1   x_2   firm_variance  fvar treated treat_prob #>     <int>   <int>  <int> <fct> <fct>         <dbl> <dbl>   <dbl>      <dbl> #> 1       1     284      1 1     0               0.8 0.629       0      0.544 #> 2       1     284      2 1     0               0.8 0.629       0      0.544 #> 3       2     336      1 1     0               0.9 0.519       0      0.531 #> 4       2     336      2 1     0               0.9 0.519       1      0.531 #> 5       3     101      1 1     0               0.6 0.567       0      0.472 #> 6       3     101      2 1     0               0.6 0.567       1      0.472 #> # ℹ 2 more variables: t_indicator <dbl>, Y <dbl>"},{"path":"/articles/introduction_to_didcf.html","id":"estimate_didcf","dir":"Articles","previous_headings":"","what":"Estimate_DiDCF","title":"Introduction to didcf","text":"function estimate_DiDCF takes data estimates difference--difference causal forests. can use function: example can found also help file related function. inputs function following: Y - outcome variable periods t_indicator - cross-sectional indicator treatment, every period, taken base period 1 X - variables describing margins heterogeneity treatment effect interest 1 - value base period variable denoting time period - variable denoting time unit_id - variable denoting unit id","code":"estimate_didcf(example_data$Y,                 example_data$t_indicator[example_data$period==1],                 model.matrix(~.,data=example_data[example_data$period==1,c(\"x_1\",\"x_2\")]),                 1,                 example_data$period,                 example_data$unit_id)  #> $DiDCF_2 #> GRF forest object of type causal_forest  #> Number of trees: 2000  #> Number of training samples: 6400  #> Variable importance:  #>     1     2     3  #> 0.000 0.619 0.260"},{"path":"/articles/introduction_to_didcf.html","id":"vip","dir":"Articles","previous_headings":"","what":"vip","title":"Introduction to didcf","text":"function vip handy tool extract table variable importance feature estimated causal forest. table contains variable names respective importance values, sorted descending order.","code":"my_forest<-estimate_didcf(example_data$Y,                 example_data$t_indicator[example_data$period==1],                 model.matrix(~.,data=example_data[example_data$period==1,c(\"x_1\",\"x_2\")]),                 1,                 example_data$period,                 example_data$unit_id)  vip(my_forest[[1]]) #> # A tibble: 3 × 2 #>   variable      vip #>   <chr>       <dbl> #> 1 x_11        0.625 #> 2 x_21        0.253 #> 3 (Intercept) 0"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Evelina Gavrilova. Author, maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Gavrilova E (2025). didcf: Difference--Difference Causal Forests. R package version 1.0.0.0, https://github.com/EvelinaGZ/didcf.","code":"@Manual{,   title = {didcf: Difference-in-Difference Causal Forests},   author = {Evelina Gavrilova},   year = {2025},   note = {R package version 1.0.0.0},   url = {https://github.com/EvelinaGZ/didcf}, }"},{"path":"/index.html","id":"introduction","dir":"","previous_headings":"","what":"Introduction to didcf","title":"Introduction to didcf","text":"vignette accompanies package DiDCF. algorithms comes Gavrilova, Evelina, Audun Langørgen, Floris Zoutman. “Difference--difference causal forests, application payroll tax incidence norway.” (2025).","code":""},{"path":"/index.html","id":"example-data","dir":"","previous_headings":"","what":"Example Data","title":"Introduction to didcf","text":"example_data dataset included package contains simulated dataset tailored payroll example paper. can load view dataset:","code":"# Load the example dataset data(example_data, package = \"didcf\")  # View the dataset head(example_data) #> # A tibble: 6 × 11 #>   unit_id firm_id period x_1   x_2   firm_variance  fvar treated treat_prob t_indicator     Y #>     <int>   <int>  <int> <fct> <fct>         <dbl> <dbl>   <dbl>      <dbl>       <dbl> <dbl> #> 1       1     284      1 1     0               0.8 0.629       0      0.544           0  11.2 #> 2       1     284      2 1     0               0.8 0.629       0      0.544           0  12.3 #> 3       2     336      1 1     0               0.9 0.519       0      0.531           1  10.5 #> 4       2     336      2 1     0               0.9 0.519       1      0.531           1  22.3 #> 5       3     101      1 1     0               0.6 0.567       0      0.472           1  10.2 #> 6       3     101      2 1     0               0.6 0.567       1      0.472           1  22.9"},{"path":"/index.html","id":"estimate_didcf","dir":"","previous_headings":"","what":"Estimate_DiDCF","title":"Introduction to didcf","text":"function estimate_DiDCF takes data estimates difference--difference causal forests. can use function: example can found also help file related function. inputs function following: Y - outcome variable periods t_indicator - cross-sectional indicator treatment, every period, taken base period 1 X - variables describing margins heterogeneity treatment effect interest 1 - value base period variable denoting time period - variable denoting time unit_id - variable denoting unit id","code":"estimate_didcf(example_data$Y,                 example_data$t_indicator[example_data$period==1],                 model.matrix(~.,data=example_data[example_data$period==1,c(\"x_1\",\"x_2\")]),                 1,                 example_data$period,                 example_data$unit_id)  #> $DiDCF_2 #> GRF forest object of type causal_forest  #> Number of trees: 2000  #> Number of training samples: 6400  #> Variable importance:  #>     1     2     3  #> 0.000 0.619 0.259"},{"path":"/index.html","id":"vip","dir":"","previous_headings":"","what":"vip","title":"Introduction to didcf","text":"function vip handy tool extract table variable importance feature estimated causal forest. table contains variable names respective importance values, sorted descending order.","code":"my_forest<-estimate_didcf(example_data$Y,                 example_data$t_indicator[example_data$period==1],                 model.matrix(~.,data=example_data[example_data$period==1,c(\"x_1\",\"x_2\")]),                 1,                 example_data$period,                 example_data$unit_id)  vip(my_forest[[1]]) #> # A tibble: 3 × 2 #>   variable      vip #>   <chr>       <dbl> #> 1 x_11        0.621 #> 2 x_21        0.257 #> 3 (Intercept) 0"},{"path":"/reference/estimate_DiDCF.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Difference-in-Difference Causal Forests for Long Format Data — estimate_DiDCF","title":"Estimate Difference-in-Difference Causal Forests for Long Format Data — estimate_DiDCF","text":"function computes difference outcome $$Z_{} = Y_{} - Y_{ib}$$ time period \\( t \\) (using base period \\( b \\)) estimates causal forest using grf package \\((Z, W, X)\\). Y assumed long format. Therefore, must provide corresponding time id vectors. required every unit (identified id) observation base period \\( b \\).","code":""},{"path":"/reference/estimate_DiDCF.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Difference-in-Difference Causal Forests for Long Format Data — estimate_DiDCF","text":"","code":"estimate_DiDCF(Y, W, X, b, time, id, ...)"},{"path":"/reference/estimate_DiDCF.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Difference-in-Difference Causal Forests for Long Format Data — estimate_DiDCF","text":"Y numeric vector outcome variable. W vector treatment indicators (one per unit). X numeric matrix data frame features vary cross-sectional dimension (one row per unit). b value time vector corresponding base period. time vector indicating time period observation Y. id vector indicating unit identifier observation Y. ... Additional arguments forwarded grf::causal_forest.","code":""},{"path":"/reference/estimate_DiDCF.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate Difference-in-Difference Causal Forests for Long Format Data — estimate_DiDCF","text":"list causal forest objects (one time period base period).","code":""},{"path":"/reference/estimate_DiDCF.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate Difference-in-Difference Causal Forests for Long Format Data — estimate_DiDCF","text":"Additional arguments (...) passed directly call grf::causal_forest.","code":""},{"path":"/reference/estimate_DiDCF.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimate Difference-in-Difference Causal Forests for Long Format Data — estimate_DiDCF","text":"","code":"estimate_DiDCF(example_data$Y,                example_data$t_indicator[example_data$period==1],                as.data.frame(model.matrix(~.,data=example_data[example_data$period==1,c(\"x_1\",\"x_2\")])),                1,                data$period,                data$unit_id) #> Error in estimate_DiDCF(example_data$Y, example_data$t_indicator[example_data$period ==     1], as.data.frame(model.matrix(~., data = example_data[example_data$period ==     1, c(\"x_1\", \"x_2\")])), 1, data$period, data$unit_id): could not find function \"estimate_DiDCF\""},{"path":"/reference/example_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Example Data — example_data","title":"Example Data — example_data","text":"dataset containing example data Simulation section Gavrilova, Langoergen Zoutman (2025) Difference--Difference Causal Forests Application Payroll Tax Incidence Norway","code":""},{"path":"/reference/example_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example Data — example_data","text":"","code":"example_data"},{"path":"/reference/example_data.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example Data — example_data","text":"data frame 12800 rows 11 variables: unit_id numeric vector representing ID worker. firm_id numeric vector representing ID firm. period numerric vector indicating time period 1 2 x_1 factor vector indicating 1 0 given characteristic x_1 x_2 factor vector indicating 1 0 given characteristic x_2 firm_variance firm-specific variance treated vector indicating treatment second period, time cross-sectional variation treat_prob vector indicating probability treatment t_indicator vector indicating treated units, cross-sectional variation Y outcome variable","code":""},{"path":"/reference/example_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Example Data — example_data","text":"","code":"example_data #> # A tibble: 12,800 × 11 #>    unit_id firm_id period x_1   x_2   firm_variance  fvar treated treat_prob #>      <int>   <int>  <int> <fct> <fct>         <dbl> <dbl>   <dbl>      <dbl> #>  1       1     284      1 1     0               0.8 0.629       0      0.544 #>  2       1     284      2 1     0               0.8 0.629       0      0.544 #>  3       2     336      1 1     0               0.9 0.519       0      0.531 #>  4       2     336      2 1     0               0.9 0.519       1      0.531 #>  5       3     101      1 1     0               0.6 0.567       0      0.472 #>  6       3     101      2 1     0               0.6 0.567       1      0.472 #>  7       4     111      1 1     0               0.8 0.523       0      0.443 #>  8       4     111      2 1     0               0.8 0.523       1      0.443 #>  9       5     393      1 1     0               0.6 0.491       0      0.477 #> 10       5     393      2 1     0               0.6 0.491       0      0.477 #> # ℹ 12,790 more rows #> # ℹ 2 more variables: t_indicator <dbl>, Y <dbl>"},{"path":"/reference/vip.html","id":null,"dir":"Reference","previous_headings":"","what":"Title — vip","title":"Title — vip","text":"Title","code":""},{"path":"/reference/vip.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title — vip","text":"","code":"vip(forest)"},{"path":"/reference/vip.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Title — vip","text":"forest GRF forest object type causal_forest, causal forest estimate","code":""},{"path":"/reference/vip.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Title — vip","text":"table two columns, variable names values variables importance","code":""},{"path":"/reference/vip.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Title — vip","text":"","code":"my_table<-vip(my_forest) #> Error in forest %>% variable_importance() %>% as.data.frame() %>% mutate(variable = colnames(forest$X.orig)) %>%     mutate(V1 = round(V1, digits = 3)) %>% group_by(variable) %>%     summarize(vip = sum(V1)) %>% arrange(desc(vip)): could not find function \"%>%\""}]
